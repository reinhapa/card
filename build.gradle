plugins {
  id 'java'
  id 'maven'
  id 'com.github.ben-manes.versions' version '0.28.0'
}

group = 'net.reini'
version = '0.0.1-SNAPSHOT'

sourceCompatibility = 9
targetCompatibility = 9

tasks.withType(JavaCompile) {
  options.encoding = 'UTF-8'
}

jar {
  manifest.attributes 'Main-Class': 'card.Main'
}

repositories {
  jcenter()
  mavenLocal()
}

dependencies {
  testCompile 'junit:junit:4.13'
}

dependencyUpdates.resolutionStrategy {
  componentSelection { rules ->
    rules.all { ComponentSelection selection ->
      boolean rejected = ['alpha', 'beta', 'rc', 'cr', 'm', 'preview', 'b', 'pr', 'ea'].any { qualifier ->
        selection.candidate.version ==~ /(?i).*[.-]${qualifier}[.\d-+]*/
      }
      if (rejected) {
        selection.reject('Release candidate')
      }
    }
  }
}
